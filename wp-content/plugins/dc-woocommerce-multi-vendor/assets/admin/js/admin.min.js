jQuery(document).ready(function(e){var t;e(".question_verify_admin").on("click",function(t){t.preventDefault();e(this);var s={action:"wcmp_question_verification_approval",question_type:e(this).attr("data-verification"),question_id:e(this).attr("data-user_id"),data_action:e(this).attr("data-action"),product:e(this).attr("data-product")};e.post(ajaxurl,s,function(e){location.reload()})}),e(".img_tip").each(function(){e(this).qtip({content:e(this).attr("data-desc"),position:{my:"top center",at:"bottom center",viewport:e(window)},show:{event:"mouseover",solo:!0},hide:{inactive:6e3,fixed:!0},style:{classes:"qtip-dark qtip-shadow qtip-rounded qtip-dc-css"}})}),e(".dc_datepicker").each(function(){e(this).datepicker({dateFormat:e(this).data("date_format"),changeMonth:!0,changeYear:!0})}),e(".wcmp-shipping-zone-method").on("change",".wcmp-shipping-zone-method-enabled input",function(){e(this).is(":checked")?(e(this).closest(".wcmp-input-toggle").removeClass("woocommerce-input-toggle--disabled"),e(this).closest(".wcmp-input-toggle").addClass("checked"),e(this).closest(".wcmp-input-toggle").find(".wcmp-input-toggle").removeClass("hide")):(e(this).closest(".wcmp-input-toggle").addClass("woocommerce-input-toggle--disabled"),e(this).closest(".wcmp-input-toggle").removeClass("checked"),e(this).closest(".wcmp-input-toggle").find(".wcmp-shipping-zone-method").addClass("hide"))}),e(".wcmp-shipping-zone-method").on("click",".wcmp-shipping-zone-method-enabled",function(t){if(e(t.target).is("input"))t.stopPropagation();else{var s=e(this).find('input[type="checkbox"]');s.prop("checked",!s.prop("checked")).change()}}),e(".multi_input_holder").each(function(){var t=e(this);1==t.find(".multi_input_block").length&&t.find(".remove_multi_input_block").css("display","none"),t.find(".multi_input_block").each(function(){e(this)[0]!=t.find(".multi_input_block:last")[0]&&e(this).find(".add_multi_input_block").remove()}),t.find(".add_multi_input_block").click(function(){var s=t.attr("id"),i=t.data("name"),o=t.data("length");o++;var c=t.find(".multi_input_block:first").clone(!0);c.find("textarea,input:not(input[type=button],input[type=submit])").val(""),c.find(".multi_input_block_element").each(function(){var t=e(this),c=t.data("name");if(t.attr("name",i+"["+o+"]["+c+"]"),t.attr("id",s+"_"+c+"_"+o),t.parent().hasClass("dc-wp-fields-uploader")){var a=t.parent();a.find("img").attr("src","").attr("id",s+"_"+c+"_"+o+"_display").addClass("placeHolder"),a.find(".upload_button").attr("id",s+"_"+c+"_"+o+"_button").show(),a.find(".remove_button").attr("id",s+"_"+c+"_"+o+"_remove_button").hide()}t.hasClass("dc_datepicker")&&t.removeClass("hasDatepicker").datepicker({dateFormat:t.data("date_format"),changeMonth:!0,changeYear:!0})}),c.find(".add_multi_input_block").remove(),t.append(c),t.find(".multi_input_block:last").append(e(this)),t.find(".multi_input_block").length>1&&t.find(".remove_multi_input_block").css("display","block"),t.data("length",o)}),t.find(".remove_multi_input_block").click(function(){var s=t.find(".add_multi_input_block").clone(!0);e(this).parent().remove(),t.find(".add_multi_input_block").remove(),t.find(".multi_input_block:last").append(s),1==t.find(".multi_input_block").length&&t.find(".remove_multi_input_block").css("display","none")})}),"fixed_with_percentage"==e("#commission_typee").val()?(e("#default_commissionn").closest("tr").css("display","none"),e("#fixed_with_percentage_qty").closest("tr").css("display","none")):"fixed_with_percentage_qty"==e("#commission_typee").val()?(e("#default_commissionn").closest("tr").css("display","none"),e("#fixed_with_percentage").closest("tr").css("display","none")):(e("#default_percentage").closest("tr").css("display","none"),e("#fixed_with_percentage").closest("tr").css("display","none"),e("#fixed_with_percentage_qty").closest("tr").css("display","none")),e("#commission_typee").change(function(){var t=e(this).val();"fixed_with_percentage"==t?(e("#default_commissionn").closest("tr").css("display","none"),e("#default_percentage").val(""),e("#fixed_with_percentage").val(""),e("#default_percentage").closest("tr").show(),e("#fixed_with_percentage").closest("tr").show(),e("#fixed_with_percentage_qty").closest("tr").hide()):"fixed_with_percentage_qty"==t?(e("#default_commissionn").closest("tr").css("display","none"),e("#default_percentage").closest("tr").show(),e("#fixed_with_percentage_qty").closest("tr").show(),e("#fixed_with_percentage").closest("tr").hide(),e("#default_percentage").val(""),e("#fixed_with_percentage_qty").val("")):(e("#default_commissionn").closest("tr").show(),e("#default_percentage").closest("tr").css("display","none"),e("#fixed_with_percentage").closest("tr").css("display","none"),e("#fixed_with_percentage_qty").closest("tr").css("display","none"))}),e("#wcmp_disbursal_mode_admin").is(":checked")?e("#payment_schedule").closest("tr").show():e("#payment_schedule").closest("tr").css("display","none"),e("#wcmp_disbursal_mode_admin").change(function(){e(this).is(":checked")?e("#payment_schedule").closest("tr").show():e("#payment_schedule").closest("tr").css("display","none")}),e("#is_submit_product").is(":checked")?(e("#is_published_product").closest("tr").show(),e("#is_edit_delete_published_product").closest("tr").show()):(e("#is_published_product").closest("tr").css("display","none"),e("#is_edit_delete_published_product").closest("tr").css("display","none")),e("#is_submit_product").change(function(){e(this).is(":checked")?(e("#is_published_product").closest("tr").show(),e("#is_edit_delete_published_product").closest("tr").show()):(e("#is_published_product").closest("tr").css("display","none"),e("#is_edit_delete_published_product").closest("tr").css("display","none"))}),e("#is_submit_coupon").is(":checked")?(e("#is_published_coupon").closest("tr").show(),e("#is_edit_delete_published_coupon").closest("tr").show()):(e("#is_published_coupon").closest("tr").css("display","none"),e("#is_edit_delete_published_coupon").closest("tr").css("display","none")),e("#is_submit_coupon").change(function(){e(this).is(":checked")?(e("#is_published_coupon").closest("tr").show(),e("#is_edit_delete_published_coupon").closest("tr").show()):(e("#is_published_coupon").closest("tr").css("display","none"),e("#is_edit_delete_published_coupon").closest("tr").css("display","none"))}),e("#wcmp_disbursal_mode_vendor").is(":checked")?(e("#commission_transfer").closest("tr").show(),e("#no_of_orders").closest("tr").show()):(e("#commission_transfer").closest("tr").css("display","none"),e("#no_of_orders").closest("tr").css("display","none")),e("#wcmp_disbursal_mode_admin").is(":checked")?e("#payment_schedule").closest("tr").show():e("#payment_schedule").closest("tr").css("display","none"),e("#testmode").is(":checked")?(e("#test_client_id").closest("tr").show(),e("#test_publishable_key").closest("tr").show(),e("#test_secret_key").closest("tr").show(),e("#live_client_id").closest("tr").hide(),e("#live_publishable_key").closest("tr").hide(),e("#live_secret_key").closest("tr").hide()):(e("#test_client_id").closest("tr").hide(),e("#test_publishable_key").closest("tr").hide(),e("#test_secret_key").closest("tr").hide(),e("#live_client_id").closest("tr").show(),e("#live_publishable_key").closest("tr").show(),e("#live_secret_key").closest("tr").show()),e("#testmode").change(function(){e(this).is(":checked")?(e("#test_client_id").closest("tr").show(),e("#test_publishable_key").closest("tr").show(),e("#test_secret_key").closest("tr").show(),e("#live_client_id").closest("tr").hide(),e("#live_publishable_key").closest("tr").hide(),e("#live_secret_key").closest("tr").hide()):(e("#test_client_id").closest("tr").hide(),e("#test_publishable_key").closest("tr").hide(),e("#test_secret_key").closest("tr").hide(),e("#live_client_id").closest("tr").show(),e("#live_publishable_key").closest("tr").show(),e("#live_secret_key").closest("tr").show())}),e("#wcmp_disbursal_mode_vendor").change(function(){e(this).is(":checked")?(e("#commission_transfer").closest("tr").show(),e("#no_of_orders").closest("tr").show()):(e("#commission_transfer").closest("tr").css("display","none"),e("#no_of_orders").closest("tr").css("display","none"))}),e("#payment_gateway_charge").change(function(){e(this).prop("checked")?(e(".payment_gateway_charge").show(),e("#payment_gateway_charge_type").closest("tr").show(),e("#gateway_charges_cost_carrier").closest("tr").show()):(e(".payment_gateway_charge").hide(),e("#payment_gateway_charge_type").closest("tr").hide(),e("#gateway_charges_cost_carrier").closest("tr").hide())}).change(),e("input[name^='wcmp_payment_settings_name[gateway_charge_fixed_with_']").closest("tr").hide(),e("#payment_gateway_charge_type").on("change",function(){"fixed_with_percentage"==e(this).val()&&e(".automatic_payment_method").each(function(){var t=e(this).attr("id");if(void 0!==t){var s="gateway_charge"+t.split("payment_method")[1],i="gateway_charge_fixed_with"+t.split("payment_method")[1];e(this).is(":checked")&&e("#payment_gateway_charge").prop("checked")?(e("#"+s).closest("tr").show(),e("#"+s).attr("placeholder",wcmp_admin_js_script_data.lang.in_percentage),e("#"+s).siblings(".description").html(e("#"+s).siblings(".description").html()+" "+wcmp_admin_js_script_data.lang.in_percentage),e("#"+i).closest("tr").show(),e("#"+i).attr("placeholder",wcmp_admin_js_script_data.lang.in_fixed),e("#"+i).siblings(".description").html(e("#"+i).siblings(".description").html()+" "+wcmp_admin_js_script_data.lang.in_fixed)):(e("#"+s).closest("tr").hide(),e("#"+i).closest("tr").hide())}})}).trigger("change"),e(".automatic_payment_method").change(function(){var t=e(this).attr("id");if(void 0!==t){var s="gateway_charge"+t.split("payment_method")[1];e(this).is(":checked")&&e("#payment_gateway_charge").prop("checked")?e("#"+s).closest("tr").show():e("#"+s).closest("tr").hide()}}).change(),e("#vendor_color_scheme_picker input[type=radio]").on("change",function(){e("#vendor_color_scheme_picker .color-option").removeClass("selected"),e(this).closest("div").addClass("selected")}),e("#vendor_preview_tabs").tabs(),e("body").on("click","#vendor_preview_tabs a.ui-tabs-anchor",function(t){location.hash="/"+e(this).attr("id")}),location.hash&&(t=location.hash.replace("#/",""),e("#vendor_preview_tabs a[id='"+t+"']").click()),e("#vendor_preview_tabs").click("#vendor-application",function(t,s){($vendor_type=e("#vendor-application").data("vendor-type"),$vendor_type)&&(4==e("#vendor_preview_tabs").tabs("option","active")?e("#wc-backbone-modal-dialog").hide():e("#wc-backbone-modal-dialog").show())}),e("#vendor_payment_mode").on("change",function(){e(".payment-gateway").hide(),e(".payment-gateway-"+e(this).val()).show()}).change(),e(".vendor-preview").click(function(){var t=e(this),s=t.data("vendor-id");return t.data("vendor-data")?e(this).WCBackboneModal({template:"wcmp-modal-view-vendor",variable:t.data("vendor-data")}):(t.addClass("disabled"),e.ajax({url:wcmp_admin_js_script_data.ajax_url,data:{vendor_id:s,action:"wcmp_get_vendor_details",nonce:wcmp_admin_js_script_data.vendors_nonce},type:"GET",success:function(s){e(".vendor-preview").removeClass("disabled"),s.success&&(t.data("vendor-data",s.data),e(this).WCBackboneModal({template:"wcmp-modal-view-vendor",variable:s.data}))}})),!1}),e(document.body).on("click","#wc-backbone-modal-dialog .wcmp-action-button",function(t){t.preventDefault(),e(".wcmp-loader").html('<span class="dashicons dashicons-image-rotate"></span>');var s=e(this),i=s.data("vendor-id"),o=s.data("ajax-action");$pending_vendor_note=s.closest(".wcmp-vendor-modal-main").find(".pending-vendor-note").val(),$note_author_id=s.closest(".wcmp-vendor-modal-main").find(".pending-vendor-note").data("note-author-id"),null!=i&&i>0&&e.ajax({url:wcmp_admin_js_script_data.ajax_url,data:{user_id:i,action:o,redirect:!0,custom_note:$pending_vendor_note,note_by:$note_author_id},type:"POST",success:function(t){e(".wcmp-loader").html(""),t.redirect&&(window.location=t.redirect_url)}})})});